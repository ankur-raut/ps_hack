
const data = [
    {
        id:"1",
        question:" A sotne of mass 1kg is tied to a string 2m long and is rotated at constant speed of 40 ms^-1 in a vertical circle . The ratio of the tension at the top and the bottom is [Take g = 10ms^-2]",
        option1:"81/79",
        option2:"79/81",
        option3:"19/12",
        option4:"12/19",
        ansid:"2"
    }
    ,{
        id:"2",
        question:" Two coils have a mutual inductance of 0.01 H. The current in the first coil changes according to equation I = 5 sin 200πt. The maximum value of e.m.f induced in the second coil is",
        option1:"10 pi volt",
        option2:"0.1 pi volt",
        option3:"pi volt",
        option4:"0.01 pi volt",
        ansid:"1"
    },
    {
        id:"3",
        question:"3 The radius of the earth and the radius of orbit around the sun are 6371 km and 149×106 km respectively.The order of magnitude of the diameter of the orbit is greater than that of earth by",
        option1:"10^3",
        option2:"10^2",
        option3:"10^4",
        option4:"10^5",
        ansid:"3"
    },
    {
        id:"4",
        question:" 4 Two open pipes of different lengths and of same diameter in which the air column vibrates with fundamental frequencies 'n1', and 'n2' respectively. When both pipes are joined to form a single pipe, its fundamental frequency will be",
        option1:"(n1+n2)/n1n2",
        option2:"n1n2/(2n2 + n1)",
        option3:"(2n2 + n1)/n1n2",
        option4:"n1n2/(n1+n2)",
        ansid:"4"
    },{
        id:"5",
        question:"If 'Cp' and 'Cv' are molar specific heats of an ideal gas at constant pressure and volume resp. If 'λ' is ration specific heats and 'R' is universal gas constant then 'Cp' is equal to",
        option1:"πy/(y-1)",
        option2:"yR",
        option3:"(1+y)/(1-y)",
        option4:"R/(y-1)",
        ansid:"1"
    },{
        id:"6",
        question:"In a series LCR circuit R=300Ω ,L=0.9H,C=2µF , ω =1000rad/s. The impedance of the circuit is",
        option1:"5000",
        option2:"13000",
        option3:"4000",
        option4:"9000",
        ansid:"1"
    },{
        id:"7",
        question:" The quantity which does not vary periodically for a particle performing S.H.M. is",
        option1:"Acceleration",
        option2:"Total energy",
        option3:"displacement",
        option4:"velocity",
        ansid:"2"
    },{
        id:"8",
        question:"Which of the following combinations of the 7 identical capacitors each of 2µF gives a resultant capacitance of 10/11 µF ?",
        option1:"3 in parallel and 4 in series",
        option2:"2 in parallel and 5 in series.",
        option3:"4 in parallel and 3 in series.",
        option4:"5 in parallel and 2 in series",
        ansid:"4"
    },{
        id:"9",
        question:"In moving coil galvanometer, strong horse shoe magnet of concave shaped pole pieces is used to ",
        option1:" increase space for roatation of coil.",
        option2:"reduce weight of galvanometer. ",
        option3:"produce magnetic field which is parallel to plane of coil at any position",
        option4:"make magnetic induction weak at the centre.",
        ansid:"3"
    },{
        id:"10",
        question:"Two identical wires of substances 'P' and 'Q' are subjected to equal stretching force along the length. If the elongation of 'Q' is more than that of 'P', then",
        option1:"both P and Q are equally elastic.",
        option2:"P is more elastic than Q.",
        option3:"P is plastic and Q is elastic.",
        option4:"P is plastic and Q is elastic. ",
        ansid:"2"
    },{
        id:"11",
        question:"In fundamental mode,the time required for the sound wave to reach upto the closed end of a pipe filled with air is 't' second .The frequency of vibration of air column is ",
        option1:"(2t)^-1",
        option2:"4(t)^-1",
        option3:"2(t)^-1",
        option4:"(4t)^-1",
        ansid:"4"
    },{
        id:"12",
        question:"Two small drops of mercury each of radius 'R' coalesce to form a large single drop. The ratio of the total surface energies before and after the change is",
        option1:"2^(2/3) : 1",
        option2:"sqrt(2):1",
        option3:"2^(1/3):1",
        option4:"2:1",
        ansid:"3"
    },{
        id:"13",
        question:"If radius of the solid sphere is doubled by keeping its mass constant, the ratio of their moment of inertia about any of its diameter is ",
        option1:"1;8",
        option2:"2:5",
        option3:"2:3",
        option4:"1:4",
        ansid:"4"
    },{
        id:"14",
        question:"For a metallic wire, the ratio of voltage to corresponding current is",
        option1:"independent of temperature.      ",
        option2:"increases with rise in temperature.",
        option3:"increases or decreases with rise in temperature depending upon the metal.",
        option4:"decreases with rise in temperature",
        ansid:"2"
    },{
        id:"15",
        question:"In air, a charged soap bubble of radius 'R' breaks into 27 small soap bubbles of equal radius 'r'.Then the ratio of mechanical force acting per unit area of big soap bubble to that of a small soap bubble is",
        option1:"1/81",
        option2:"3/1",
        option3:"1/3",
        option4:"9/1",
        ansid:"4"
    },{
        id:"16",
        question:"Two parallel conductors carrying unequal currents in the same direction _____",
        option1:"neither attract nor repel each other",
        option2:"repel each other",
        option3:"attract each other.",
        option4:"will have rotational motion",
        ansid:"3"
    },{
        id:"17",
        question:"A layer of atmosphere that reflects medium frequency radio waves which is ineffective during night, is",
        option1:"F layer",
        option2:"E layer",
        option3:"stratosphere",
        option4:"thermosphere ",
        ansid:"2"
    },{
        id:"18",
        question:"A transverse wave is propagating on the string.The linear density of a vibrating string is 10-3 kg/m. The equation of the wave is Y = 0.05 sin(x+15t) where x and Y are in metre and time in second.The tension in the string is",
        option1:" 0.2 N",
        option2:"0.250 N",
        option3:"+. 0.225 N",
        option4:"0.325 N",
        ansid:"3"
    },{
        id:"19",
        question:" A particle executes the simple hormonic motion with an amplitude ' A '. The distance travelled by it in one periodic time is",
        option1:"A/2",
        option2:"A ",
        option3:"2A",
        option4:"4A",
        ansid:"4"
    },{
        id:"20",
        question:"A galvanometer has resistance of 100Ω and a current of 10mA produces full scale deflection in it. The resistance to be connected to it in series, to get a voltmeter of range 50 volt is",
        option1:"39000",
        option2:"40000",
        option3:"46000",
        option4:"49000",
        ansid:"4"
    },{
        id:"21",
        question:"The angle made by orbital angular momentum of electron with the direction of the orbital magnetic moment is",
        option1:" 120^o",
        option2:"60^o",
        option3:"180^o",
        option4:"90^o",
        ansid:"3"
    },{
        id:"22",
        question:"The wave length of the first line in Balmer series in the hydrogen spectrum is 'λ'. What is the wavelength of the second line in the same series?",
        option1:"20/27 λ",
        option2:"3/16 λ",
        option3:"5/36 λ",
        option4:"3/4 λ",
        ansid:"1"
    },{
        id:"23",
        question:"Work done in stretching a wire through 1mm is 2J. What amount of work will be done for elongating another wire of same material, with half the length and double the radius of cross section, by 1 mm?",
        option1:"2J ",
        option2:"4J",
        option3:"8J",
        option4:"16J",
        ansid:"4"
    },{
        id:"24",
        question:" A telescope has large diameter of the objective.Then its resolving power is ",
        option1:" independent of the diameter of the objective",
        option2:"low",
        option3:"zero",
        option4:"high",
        ansid:"4"
    },{
        id:"25",
        question:"The dimensions of torque are same as that of",
        option1:" moment of  force.",
        option2:"pressure",
        option3:"acceleration.",
        option4:"impulse.",
        ansid:"1"
    },{
        id:"26",
        question:"You Can Submit Your Test!",
        option1:"",
        option2:"",
        option3:"",
        option4:"",
        ansid:"5"
    }
];

const no = document.querySelector(".no");
const question = document.querySelector('.question');
const option1 = document.getElementById('option1');
const option2 = document.getElementById('option2');
const option3 = document.getElementById('option3');
const option4 = document.getElementById('option4');


const submit = document.querySelector('.submitbtn');
const submitexambtn = document.querySelector('.submitexambtn')
// console.log(submitexambtn)
// console.log(submit)




const popup = document.querySelector(".modalcontainer");
// console.log(screen.width)
if(screen.width < 600){
    // console.log("yess got it")
    popup.classList.add("demo");
    popup.classList.remove("modalcontainer");

}else{
    // console.log("no got it")
    popup.classList.add("modalcontainer");
    popup.classList.remove("demo");
}


const input = document.querySelectorAll(".input")

let mycurrentque = {};
let currenttime = 0 ;
// let mycurrentscore= {}
score = 0;
window.addEventListener("DOMContentLoaded",()=>{
    showquestion(currenttime);

})

 function disabledbutton(currentpara){
    console.log("cur value " + currentpara)
    if(Number.isNaN(currentpara)){
        currentpara = 0 ;  
    }
    let buttoncircle =  document.getElementById(currentpara-1) ;
     buttoncircle.disabled = true;
     console.log("dis")
     console.log(buttoncircle)
       console.log("button" + buttoncircle)
       console.log("current id " + currentpara)
}

function showquestion(currenttime){

    if(mycurrentque.currenttime >= 25){
        mycurrentque.currenttime = 0;
    } 

//    console.log("question " + currenttime)
    const item = data[currenttime];
    no.textContent = item.id;
    question.textContent = item.question;
    option1.textContent = item.option1;
    option2.textContent = item.option2;
    option3.textContent = item.option3;
    option4.textContent = item.option4;
    
    document.getElementsByTagName("button")[0].tag = item.id;
    console.log(item.id)
    mycurrentque.currenttime = item.id;
    // console.log("question" +currenttime)
    // console.log(document.getElementsByTagName("button")[0].tag)
    // random(currenttime)
    deleselectall();
}

function fungetidofButton(id){ 
    showquestion(id)
}

    submit.addEventListener("click",()=>{

       
        // console.log("button")
       
        // console.log(mycurrentque.currenttime > 25)
        // console.log("after submit" + mycurrentque.currenttime);
        //  currenttime = 10
        colorcircle(mycurrentque.currenttime-1);
        getcheckanswer(mycurrentque.currenttime);

        disabledbutton(mycurrentque.currenttime);
        // currenttime++;
        deleselectall();
    
        // if(mycurrentque.currenttime >= data.length){
        //     popup();
        // }
        // else{
            // if(mycurrentque.currenttime > 25){
            //     mycurrentque.currenttime = 0;
            // }
            // console.log("updated " + mycurrentque.currenttime)
            showquestion(mycurrentque.currenttime);
        // }
     });


    submitexambtn.addEventListener("click",()=>{
        const modal = document.querySelector(".modal-overlay");
        modal.classList.add("open-modal")

        const marks = document.querySelector(".marks");
        const suggetion = document.querySelector(".suggetion");

        if(window.score == 25){
            suggetion.textContent = "Excellet score";
        }else if(window.score >= 10){
            suggetion.textContent = "good score";
        }else{
            suggetion.textContent = "bad score";
        }
        marks.textContent = window.score;
        // console.log(window.score == 0)
        
    });

function getcheckanswer(cur){
    let ans ;
    console.log("Question  :-"+cur)
    input.forEach((current)=>{
        if(current.checked){
            ans = -current.id;
            console.log("ans " + ans);
            saveFile1(ans,cur);
        }
    })
    // if(document.getElementById('1').checked){
    //         ans = 1;
    //         console.log("SelOPtion " + ans);
    //         saveFile1(ans);
    // }
    // else if(document.getElementById('2').checked){
    //     ans = 2;
    //     console.log("SelOPtion " + ans);
    //     saveFile1(ans);
    // }
    // else if(document.getElementById('3').checked){
    //     ans = 3;
    //     console.log("SelOPtion " + ans);
    //     saveFile1(ans);
    // }
    // else if(document.getElementById('4').checked){
    //     ans = 4;
    //     console.log("SelOPtion " + ans);
    //     saveFile1(ans);
    // }

    // console.log("correct ans  " + data[cur-1].ansid)
    if(ans == data[cur-1].ansid){
       window.score++ ;
    //    console.log("your ans  " + ans)

        // console.log("your score  " + window.score)
     }
         console.log(cur)
    
};

function end(){
    sessionStorage.setItem("score",score);
   sessionStorage.setItem("total", data.length);
    // console.log("data array lenght" +v )
  }

function saveFile1(ans){
    console.log(ans);
    
    console.log("clickedSave");
    // const name = document.getElementById("txtName");
    // const rad = document.getElementById(ans);
    // const que = document.getElementById(cur);
    // const radio = document.getElementById(ans);
    console.log("saveCur"+mycurrentque.currenttime);
    

    console.log(data[mycurrentque.currenttime].ansid) 
    let data1='\r No.:'+mycurrentque.currenttime + ' \r\n '+ '\r que:'+data[mycurrentque.currenttime-1].question + 
    '\r\n Option1:'+data[mycurrentque.currenttime-1].option1+
    '\r\n Option2:'+data[mycurrentque.currenttime-1].option2+
    '\r\n Option3:'+data[mycurrentque.currenttime-1].option3+
    '\r\n Option4:'+data[mycurrentque.currenttime-1].option4+
    '\n Selected Option: ' + ans +
    '\r\nCorrect Answer: '+data[mycurrentque.currenttime-1].ansid;
    console.log("data="+data1);
    
    // if(mycurrentque.currenttime==25){
    //     let data1='\r No.:'+mycurrentque.currenttime + ' \r\n '+ '\r que:'+data[mycurrentque.currenttime-1].question + 
    // '\r\n Option1:'+data[mycurrentque.currenttime-1].option1+
    // '\r\n Option2:'+data[mycurrentque.currenttime-1].option2+
    // '\r\n Option3:'+data[mycurrentque.currenttime-1].option3+
    // '\r\n Option4:'+data[mycurrentque.currenttime-1].option4+
    // '\n Selected Option: ' + rad.value +
    // '\r\nCorrect Answer: '+data[mycurrentque.currenttime-1].ansid;
    // console.log("data="+data1);

    // }
    // This variable stores all the data.
    // let data = 
    //     '\r Name: ' + name.value + ' \r\n ' + 
    //     'Age: ' +age.value + ' \r\n ' + 
    //     'Email: ' + email.value + ' \r\n ' + 
    //     'Country: ' + country.value + ' \r\n ' + 
    //     'Message: ' + msg.value;
    const textToBLOB = new Blob([data1], { type: 'text/plain' });
    const sFileName = mycurrentque.currenttime+'.txt';	
    let newLink = document.createElement("a");
    newLink.download = sFileName;
    if (window.webkitURL != null) {
        newLink.href = window.webkitURL.createObjectURL(textToBLOB);
    }
    else {
        newLink.href = window.URL.createObjectURL(textToBLOB);
        newLink.style.display = "none";
        document.body.appendChild(newLink);
    }
    newLink.click(); 
    
    console.log("data="+data1);
}
function saveFile(){
    	
    // Get the data from each element on the form.
    const name = document.getElementById('txtName');
    const age = document.getElementById('txtAge');
    const email = document.getElementById('txtEmail');
    const country = document.getElementById('selCountry');
    const msg = document.getElementById('msg');
    
    // This variable stores all the data.
    let data = 
        '\r Name: ' + name.value + ' \r\n ' + 
        'Age: ' +age.value + ' \r\n ' + 
        'Email: ' + email.value + ' \r\n ' + 
        'Country: ' + country.value + ' \r\n ' + 
        'Message: ' + msg.value;
    
    // Convert the text to BLOB.
    const textToBLOB = new Blob([data], { type: 'text/plain' });
    const sFileName = 'formData.txt';	   // The file to save the data.

    let newLink = document.createElement("a");
    newLink.download = sFileName;

    if (window.webkitURL != null) {
        newLink.href = window.webkitURL.createObjectURL(textToBLOB);
    }
    else {
        newLink.href = window.URL.createObjectURL(textToBLOB);
        newLink.style.display = "none";
        document.body.appendChild(newLink);
    }

    newLink.click(); 
}
function saveFile(){
    // Get the data from each element on the form.
    console.log("savefile " + ans);
    const name = document.getElementById("txtName");
    console.log("savefile " + txtName);
    const age = document.getElementById("txtAge");
    const email = document.getElementById("txtEmail");
    const country = document.getElementById("selCountry");
    const msg = document.getElementById("msg");
    const radio = document.getElementById(ans);

    // This variable stores all the data.
    let data = "\r radio: " + radio.value + "\r Name: " + name.value + " \r\n " + "Age: " + age.value + " \r\n " + "Email: " + email.value + " \r\n " + "Country: " + country.value + " \r\n " + "Message: " + msg.value;
    console.log(data); //printing form data into the console
    // Convert the text to BLOB.
    const textToBLOB = new Blob([data], { type: "text/plain" });
    var filename = new Date();
    var month =new Date(); //months from 1-12
    month = month.getMonth();

    var day = new Date();
    var day = day.getUTCDate();

    var year = new Date();
    var year = year.getUTCFullYear();

    newdate = year + "/" + month + "/" + day;
    const sFileName = filename; // The file to save the data.

    let newLink = document.createElement("a");
    newLink.download = new Date();

    if (window.webkitURL != null) {
        newLink.href = window.webkitURL.createObjectURL(textToBLOB);
    } else {
        newLink.href = window.URL.createObjectURL(textToBLOB);
        newLink.style.display = "none";
        document.body.appendChild(newLink);
    }

    newLink.click();
}; 


const deleselectall =()=>{
    input.forEach((current) => {
        current.checked = false;
    });
};

// var score=0;
// function random(currenttime){
//     submit.addEventListener("click",()=>{
//         console.log(currenttime);
//        //  currenttime = 10
//        console.log("no"+currenttime)
//        let circle = document.querySelector(".no"+currenttime);
//        // console.log(circle)
//        circle.style.background = "rgb(12, 236, 12)";
//        let checkans = getcheckanswer();
//        if(checkans === data[currenttime].ansid){
//           score++;
//        }
//     //    currenttime++;
//        deleselectall();
//        if(currenttime >= data.length){
//            const modal = document.querySelector(".modal-overlay");
//            modal.classList.add("open-modal")
   
//            const marks = document.querySelector(".marks");
//            const suggetion = document.querySelector(".suggetion");
   
//            if(score == 25){
//                suggetion.textContent = "Excellet score";
//            }else if(score >= 10){
//                suggetion.textContent = "good score";
//            }else{
//                suggetion.textContent = "bad Score";
//            }
//            marks.textContent = score;
//            console.log(score);
//        }
//        else{
//            showquestion(currenttime);
//        }
//     });
// }

function colorcircle(currenttime){
    // console.log("no"+currenttime)
    let circle = document.querySelector(".no"+currenttime);
    // console.log(circle)
    circle.style.background = "rgb(12, 236, 12)";
}

function popupfunc(){
   
        const modal = document.querySelector(".modal-overlay");
        modal.classList.add("open-modal")

        const marks = document.querySelector(".marks");
        const suggetion = document.querySelector(".suggetion");

        if(score == 25){
            suggetion.textContent = "Excellet score";
        }else if(score >= 10){
            suggetion.textContent = "good score";
        }else{
            suggetion.textContent = "bad Score";
        }
        marks.textContent = score;
        // console.log(score);
   
}


//  submit.addEventListener("click",()=>{
//     console.log(currenttime);
//     //  currenttime = 10
//     colorcircle(currenttime);
//     getcheckanswer();
//     // currenttime++;
//     deleselectall();

//     if(currenttime >= data.length){
//         popup();
//     }
//     else{
//         showquestion(currenttime);
//     }
//  });



 var count = 1220;
 let sec = 60;
var interval = setInterval(function(){
    let time = Math.trunc(count / 60);
    
  document.getElementById('count').innerHTML="Time Left :- "+time+" : "+sec;
  count--;
  if(sec === 0){
      sec = 60;
  }
  else{
    sec--;
  }
  
  if (count === 1990){
    const modal = document.querySelector(".modal-overlay");
        modal.classList.add("open-modal")

        const marks = document.querySelector(".marks");
        const suggetion = document.querySelector(".suggetion");

        if(mycurrentque.score == 5){
            suggetion.textContent = "Excellet score";
        }else if(mycurrentque.score >= 3){
            suggetion.textContent = "good score";
        }else{
            suggetion.textContent = "bad Score";
        }
        marks.textContent = mycurrentque.score;
        // console.log(mycurrentque.score);
        clearInterval(interval);
  }
}, 1000);

